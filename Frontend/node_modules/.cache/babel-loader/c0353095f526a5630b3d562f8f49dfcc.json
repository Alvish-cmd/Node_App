{"ast":null,"code":"import { useState, useEffect, useRef } from \"react\";\nconst useResendOTP = _ref => {\n  let {\n    maxTime,\n    onTimerComplete,\n    timeInterval,\n    onResendClick\n  } = _ref;\n  const timeout = useRef();\n  const [remainingTime, setRemainingTime] = useState(maxTime);\n  useEffect(() => {\n    if (timeout.current && remainingTime === 0) {\n      clearTimeout(timeout.current);\n      if (onTimerComplete) {\n        onTimerComplete();\n      }\n    } else {\n      timeout.current = setTimeout(() => {\n        setRemainingTime(t => t - 1);\n      }, timeInterval);\n    }\n    return () => {\n      clearTimeout(timeout.current);\n    };\n  }, [onTimerComplete, remainingTime, timeInterval]);\n  const handelResendClick = () => {\n    if (onResendClick) {\n      onResendClick(remainingTime === 0);\n    }\n    setRemainingTime(maxTime);\n  };\n  return {\n    handelResendClick,\n    remainingTime\n  };\n};\nexport default useResendOTP;","map":{"version":3,"names":["useState","useEffect","useRef","useResendOTP","_ref","maxTime","onTimerComplete","timeInterval","onResendClick","timeout","remainingTime","setRemainingTime","current","clearTimeout","setTimeout","t","handelResendClick"],"sources":["/home/tmdev/Documents/csv-main/Frontend/src/components/userOtp/Hooks/resendOTP.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\n\nconst useResendOTP = ({\n  maxTime,\n  onTimerComplete,\n  timeInterval,\n  onResendClick\n}) => {\n  const timeout = useRef();\n\n  const [remainingTime, setRemainingTime] = useState(maxTime);\n\n  useEffect(() => {\n    if (timeout.current && remainingTime === 0) {\n      clearTimeout(timeout.current);\n      if (onTimerComplete) {\n        onTimerComplete();\n      }\n    } else {\n      timeout.current = setTimeout(() => {\n        setRemainingTime(t => t - 1);\n      }, timeInterval);\n    }\n    return () => {\n      clearTimeout(timeout.current);\n    };\n  }, [onTimerComplete, remainingTime, timeInterval]);\n\n  const handelResendClick = () => {\n    if (onResendClick) {\n      onResendClick(remainingTime === 0);\n    }\n    setRemainingTime(maxTime);\n  };\n\n  return {\n    handelResendClick,\n    remainingTime\n  };\n};\n\nexport default useResendOTP;\n"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEnD,MAAMC,YAAY,GAAGC,IAAA,IAKf;EAAA,IALgB;IACpBC,OAAO;IACPC,eAAe;IACfC,YAAY;IACZC;EACF,CAAC,GAAAJ,IAAA;EACC,MAAMK,OAAO,GAAGP,MAAM,EAAE;EAExB,MAAM,CAACQ,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAACK,OAAO,CAAC;EAE3DJ,SAAS,CAAC,MAAM;IACd,IAAIQ,OAAO,CAACG,OAAO,IAAIF,aAAa,KAAK,CAAC,EAAE;MAC1CG,YAAY,CAACJ,OAAO,CAACG,OAAO,CAAC;MAC7B,IAAIN,eAAe,EAAE;QACnBA,eAAe,EAAE;MACnB;IACF,CAAC,MAAM;MACLG,OAAO,CAACG,OAAO,GAAGE,UAAU,CAAC,MAAM;QACjCH,gBAAgB,CAACI,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC;MAC9B,CAAC,EAAER,YAAY,CAAC;IAClB;IACA,OAAO,MAAM;MACXM,YAAY,CAACJ,OAAO,CAACG,OAAO,CAAC;IAC/B,CAAC;EACH,CAAC,EAAE,CAACN,eAAe,EAAEI,aAAa,EAAEH,YAAY,CAAC,CAAC;EAElD,MAAMS,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,IAAIR,aAAa,EAAE;MACjBA,aAAa,CAACE,aAAa,KAAK,CAAC,CAAC;IACpC;IACAC,gBAAgB,CAACN,OAAO,CAAC;EAC3B,CAAC;EAED,OAAO;IACLW,iBAAiB;IACjBN;EACF,CAAC;AACH,CAAC;AAED,eAAeP,YAAY"},"metadata":{},"sourceType":"module"}